# 复杂任务测试用例
# 需要多步骤计划和执行

- id: complex_001
  name: "整理笔记结构"
  category: complex
  input: "帮我整理一下笔记库，列出所有笔记的大纲结构"
  expectedTools:
    - list_notes
    - read_outline
  expectedPlanSteps: 3
  evaluationCriteria:
    - "覆盖了主要笔记"
    - "大纲结构清晰"
    - "有总结说明"

- id: complex_002
  name: "内容总结"
  category: complex
  input: "总结一下我最近的学习笔记内容"
  expectedTools:
    - list_notes
    - read_note
    - search_notes
  expectedPlanSteps: 4
  evaluationCriteria:
    - "识别了学习相关的笔记"
    - "总结准确反映内容"
    - "结构清晰易读"

- id: complex_003
  name: "批量编辑"
  category: complex
  input: "给所有笔记添加 'tags: notes' 标签"
  expectedTools:
    - list_notes
    - read_note
    - edit_note
  expectedPlanSteps: 4
  maxLoopIterations: 15
  evaluationCriteria:
    - "正确识别需要修改的笔记"
    - "标签格式正确"
    - "没有破坏原有内容"

- id: complex_004
  name: "查找并整理"
  category: complex
  input: "找出所有包含 TODO 的笔记，创建一个待办事项汇总"
  expectedTools:
    - grep_search
    - read_note
    - create_note
  expectedPlanSteps: 3
  evaluationCriteria:
    - "找到所有 TODO 项"
    - "汇总文件格式正确"
    - "包含来源引用"

- id: complex_005
  name: "归档旧笔记"
  category: complex
  input: "把 2023 年的笔记都移到 archive/2023 文件夹"
  expectedTools:
    - list_notes
    - search_notes
    - move_note
  expectedPlanSteps: 3
  evaluationCriteria:
    - "正确识别 2023 年的笔记"
    - "创建了目标文件夹"
    - "文件被正确移动"

- id: complex_006
  name: "知识图谱分析"
  category: complex
  input: "分析笔记之间的链接关系，告诉我哪些笔记最重要"
  expectedTools:
    - list_notes
    - read_note
    - get_backlinks
  expectedPlanSteps: 4
  evaluationCriteria:
    - "分析了双向链接"
    - "识别出高连接度笔记"
    - "给出合理的重要性排名"

- id: complex_007
  name: "内容迁移"
  category: complex
  input: "把 note1.md 中'项目计划'部分移到新笔记 project-plan.md"
  expectedTools:
    - read_note
    - read_section
    - create_note
    - edit_note
  expectedPlanSteps: 4
  evaluationCriteria:
    - "正确识别目标章节"
    - "新笔记内容完整"
    - "原笔记被正确修改"

- id: complex_008
  name: "数据库操作"
  category: complex
  input: "查询项目数据库，列出所有进行中的项目"
  expectedTools:
    - query_database
  expectedPlanSteps: 2
  evaluationCriteria:
    - "正确查询数据库"
    - "结果格式清晰"
